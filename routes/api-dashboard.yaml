---
# Dashboard API Routes - Migrated from protectedAPI code routes
apiVersion: v1
kind: RouteGroup
metadata:
  name: api-dashboard-protected
  description: "Dashboard widget endpoints (protected)"
  namespace: default
  enabled: true
spec:
  prefix: /api/dashboard
  middleware:
    - unified_auth
  routes:
    - path: /stats
      method: GET
      handler: handleDashboardStats
      description: "Dashboard statistics widget"

    - path: /recent-tickets
      method: GET
      handler: handleRecentTickets
      description: "Recent tickets widget"

    - path: /notifications
      method: GET
      handler: handleNotifications
      description: "Notifications widget"

    - path: /quick-actions
      method: GET
      handler: handleQuickActions
      description: "Quick actions widget"

    - path: /activity
      method: GET
      handler: handleActivity
      description: "Activity feed widget"

    - path: /activity-stream
      method: GET
      handler: handleActivityStream
      description: "Activity stream endpoint"

    - path: /performance
      method: GET
      handler: handlePerformance
      description: "Performance metrics widget"

    - path: /widgets
      method: GET
      handler: handleDashboardWidgetsList
      description: "List all available dashboard widgets with config"

    - path: /widgets/config
      method: GET
      handler: handleDashboardWidgetsConfig
      description: "Get user's dashboard widget configuration"

    - path: /widgets/config
      method: POST
      handler: handleDashboardWidgetsUpdate
      description: "Update user's dashboard widget configuration"
