<!DOCTYPE html>
<html lang="{{ getLang() }}" dir="{{ getDirection() }}" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ t("app.name") }}{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    
    <!-- Tailwind CSS (vendored) -->
    <link rel="stylesheet" href="/static/css/output.css">
    
    <!-- Dark mode script -->
    <script>
        // Check for saved theme or default to light
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
        
        function toggleDarkMode() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark')
                localStorage.theme = 'light'
            } else {
                document.documentElement.classList.add('dark')
                localStorage.theme = 'dark'
            }
        }
    </script>
    
    <!-- HTMX (vendored) -->
    <script src="/static/js/htmx.min.js"></script>
    
    {% block head %}{% endblock %}
</head>
<body class="h-full bg-gray-50 dark:bg-gray-900">
    {% block content %}{% endblock %}
    
    {% block scripts %}{% endblock %}
</body>
</html>