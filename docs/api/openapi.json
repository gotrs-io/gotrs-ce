{
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "scheme": "bearer",
        "type": "http"
      }
    }
  },
  "info": {
    "description": "API documentation generated from YAML routing definitions",
    "title": "GOTRS API",
    "version": "1.0.0"
  },
  "openapi": "3.0.0",
  "paths": {
    "/admin/customer-companies": {
      "get": {
        "description": "Get list of all customer companies",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read"
            ]
          }
        ],
        "summary": "List Customer Companies",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/new": {
      "get": {
        "description": "Create a new customer company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write"
            ]
          }
        ],
        "summary": "Create Customer Company",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "Create a new customer company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write"
            ]
          }
        ],
        "summary": "Create Customer Company",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/delete": {
      "post": {
        "description": "Soft delete (deactivate) a customer company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:delete"
            ]
          }
        ],
        "summary": "Delete Customer Company",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/edit": {
      "get": {
        "description": "Edit customer company details",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write"
            ]
          }
        ],
        "summary": "Edit Customer Company",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "Edit customer company details",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write"
            ]
          }
        ],
        "summary": "Edit Customer Company",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/portal": {
      "get": {
        "description": "Customize the customer portal for a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "portal:admin"
            ]
          }
        ],
        "summary": "Portal Customization",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "Customize the customer portal for a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "portal:admin"
            ]
          }
        ],
        "summary": "Portal Customization",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/portal/logo": {
      "post": {
        "description": "Upload a custom logo for the customer portal",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "portal:admin"
            ]
          }
        ],
        "summary": "Upload Portal Logo",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/services": {
      "get": {
        "description": "Manage services available to a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write",
              "service:assign"
            ]
          }
        ],
        "summary": "Manage Company Services",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "Manage services available to a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:write",
              "service:assign"
            ]
          }
        ],
        "summary": "Manage Company Services",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/tickets": {
      "get": {
        "description": "Get all tickets for a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read",
              "ticket:read"
            ]
          }
        ],
        "summary": "List Company Tickets",
        "tags": [
          "admin"
        ]
      }
    },
    "/admin/customer-companies/{id}/users": {
      "get": {
        "description": "Get all users belonging to a company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read"
            ]
          }
        ],
        "summary": "List Company Users",
        "tags": [
          "admin"
        ]
      }
    },
    "/agent/customers": {
      "get": {
        "description": "List and search customers",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read"
            ]
          }
        ],
        "summary": "List Customers",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/customers/{id}": {
      "get": {
        "description": "View customer details and ticket history",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read"
            ]
          }
        ],
        "summary": "View Customer",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/customers/{id}/tickets": {
      "get": {
        "description": "Get all tickets for a specific customer",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "customer:read",
              "ticket:read"
            ]
          }
        ],
        "summary": "Customer Tickets",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/dashboard": {
      "get": {
        "description": "Main dashboard for agents with ticket statistics",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Agent Dashboard",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/queues": {
      "get": {
        "description": "List available queues for the agent",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "List Queues",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/queues/{id}/tickets": {
      "get": {
        "description": "Get all tickets in a specific queue",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Queue Tickets",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/search": {
      "get": {
        "description": "Search across tickets, customers, and articles",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Global Search",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/stats": {
      "get": {
        "description": "Get agent performance statistics",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Agent Statistics",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/stats/tickets": {
      "get": {
        "description": "Get ticket statistics for the agent",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Ticket Statistics",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets": {
      "get": {
        "description": "List tickets with advanced filtering",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "List Tickets",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}": {
      "get": {
        "description": "View detailed ticket information",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "View Ticket",
        "tags": [
          "agent"
        ]
      },
      "put": {
        "description": "Update ticket properties",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:write"
            ]
          }
        ],
        "summary": "Update Ticket",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}/assign": {
      "post": {
        "description": "Assign ticket to an agent",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:assign"
            ]
          }
        ],
        "summary": "Assign Ticket",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}/merge": {
      "post": {
        "description": "Merge multiple tickets into one",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:merge"
            ]
          }
        ],
        "summary": "Merge Tickets",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}/note": {
      "post": {
        "description": "Add an internal note to a ticket",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:note"
            ]
          }
        ],
        "summary": "Add Note",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}/reply": {
      "post": {
        "description": "Send a reply to the customer",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:reply"
            ]
          }
        ],
        "summary": "Reply to Ticket",
        "tags": [
          "agent"
        ]
      }
    },
    "/agent/tickets/{id}/split": {
      "post": {
        "description": "Split a ticket into multiple tickets",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "ticket:split"
            ]
          }
        ],
        "summary": "Split Ticket",
        "tags": [
          "agent"
        ]
      }
    },
    "/auth/password/change": {
      "post": {
        "description": "Change user password",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Change Password",
        "tags": [
          "core"
        ]
      }
    },
    "/auth/password/reset": {
      "get": {
        "description": "Request password reset",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Password Reset",
        "tags": [
          "core"
        ]
      },
      "post": {
        "description": "Request password reset",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Password Reset",
        "tags": [
          "core"
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "description": "Refresh authentication token",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Refresh Token",
        "tags": [
          "core"
        ]
      }
    },
    "/auth/verify": {
      "get": {
        "description": "Verify if current session is valid",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Verify Authentication",
        "tags": [
          "core"
        ]
      }
    },
    "/customer/company": {
      "get": {
        "description": "View company information",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Company Information",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/company/users": {
      "get": {
        "description": "View other users in the same company",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "company:users:read"
            ]
          }
        ],
        "summary": "Company Users",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/dashboard": {
      "get": {
        "description": "Customer portal main dashboard",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Customer Dashboard",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/kb": {
      "get": {
        "description": "Browse knowledge base articles",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Knowledge Base",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/kb/article/{id}": {
      "get": {
        "description": "View a knowledge base article",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "View KB Article",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/kb/search": {
      "get": {
        "description": "Search knowledge base articles",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Search Knowledge Base",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/profile": {
      "get": {
        "description": "View and update customer profile",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Customer Profile",
        "tags": [
          "customer"
        ]
      },
      "post": {
        "description": "View and update customer profile",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Customer Profile",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/profile/password": {
      "get": {
        "description": "Change customer password",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Change Password",
        "tags": [
          "customer"
        ]
      },
      "post": {
        "description": "Change customer password",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Change Password",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/tickets": {
      "get": {
        "description": "List all tickets for the customer",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "List Customer Tickets",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/tickets/new": {
      "get": {
        "description": "Create a new support ticket",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Create Ticket",
        "tags": [
          "customer"
        ]
      },
      "post": {
        "description": "Create a new support ticket",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Create Ticket",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/tickets/{id}": {
      "get": {
        "description": "View ticket details and conversation",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "View Ticket",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/tickets/{id}/close": {
      "post": {
        "description": "Close a ticket",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Close Ticket",
        "tags": [
          "customer"
        ]
      }
    },
    "/customer/tickets/{id}/reply": {
      "post": {
        "description": "Add a reply to an existing ticket",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Reply to Ticket",
        "tags": [
          "customer"
        ]
      }
    },
    "/health": {
      "get": {
        "description": "Basic health check endpoint",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Health Check",
        "tags": [
          "core"
        ]
      }
    },
    "/health/detailed": {
      "get": {
        "description": "Detailed health check with component status",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "security": [
          {
            "BearerAuth": [
              "monitoring:read"
            ]
          }
        ],
        "summary": "Detailed Health Check",
        "tags": [
          "core"
        ]
      }
    },
    "/login": {
      "get": {
        "description": "Login endpoint for agents and customers",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "User Login",
        "tags": [
          "core"
        ]
      },
      "post": {
        "description": "Login endpoint for agents and customers",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "User Login",
        "tags": [
          "core"
        ]
      }
    },
    "/logout": {
      "post": {
        "description": "Logout and invalidate session",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "User Logout",
        "tags": [
          "core"
        ]
      }
    },
    "/metrics": {
      "get": {
        "description": "Expose metrics for Prometheus scraping",
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "summary": "Prometheus Metrics",
        "tags": [
          "core"
        ]
      }
    }
  },
  "servers": [
    {
      "description": "Development server",
      "url": "http://localhost:8080"
    }
  ]
}