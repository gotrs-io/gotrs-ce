---
apiVersion: v1
kind: RouteGroup
metadata:
  name: settings
  description: "User settings and preferences routes"
  namespace: default
  enabled: true
spec:
  prefix: ""
  middleware:
    - auth
  routes:
    - path: /settings
      method: GET
      handler: handleSettings
      template: pages/settings.pongo2
      description: "Display user settings page"

    # Session timeout preference (GET current value)
    - path: /api/preferences/session-timeout
      method: GET
      handler: HandleGetSessionTimeout
      description: "Get current session timeout preference"

    # Session timeout preference (POST update)
    - path: /api/preferences/session-timeout
      method: POST
      handler: HandleSetSessionTimeout
      description: "Update session timeout preference"

    # Language preference (GET current value and available languages)
    - path: /api/preferences/language
      method: GET
      handler: HandleGetLanguage
      description: "Get current language preference and available languages"

    # Language preference (POST update)
    - path: /api/preferences/language
      method: POST
      handler: HandleSetLanguage
      description: "Update language preference"

    # Theme preference (GET current value and available themes)
    - path: /api/preferences/theme
      method: GET
      handler: HandleGetTheme
      description: "Get current theme preference and available themes"

    # Theme preference (POST update - persists to database)
    - path: /api/preferences/theme
      method: POST
      handler: HandleSetTheme
      description: "Update theme preference (persists to database)"
